# Auth with polkit-gnome:
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Desktop notifications
# exec mako
#

# GTK3 applications take a long time to start
exec systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK
exec hash dbus-update-activation-environment 2>/dev/null && \
     dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK
     
# Sway Fader
exec python3 ~/.config/sway/scripts/swayfader.py     
 
# Wob
# exec mkfifo $SWAYSOCK.wob
# exec tail -f $SWAYSOCK.wob | wob --border-color '#ffdcbb8c' --background-color '#cc3a3a3a' --bar-color '#ffdcbb8c'

# Autotiling
exec autotiling

# Wlsunset
# exec ~/.config/sway/scripts/light.sh

# nm-applet
exec nm-applet --indicator

# Welcome
# exec dex -a -s /etc/xdg/autostart/:~/.config/autostart/

# Clipman
# exec clipman restore
# exec wl-paste -t text --watch clipman store

# Gnome Keyring
exec gnome-keyring-daemon --daemonize --start --components=gpg,pkcs11,secrets,ssh

# for Touchpad gestures
# exec libinput-gestures-setup start

# Outputs
# exec kanshi

# Xdg DEsktop Portal
exec /usr/libexec/xdg-desktop-portal

# Tracker daemon for gnome apps
exec tracker daemon -s

# Cheatsheet
# exec nvim ~/.config/sway/cheatsheet

# nwg-drawer
# exec_always nwg-drawer -r 

# swayrd
# exec_always swayrd

# JDB --->
exec swayidle

# set some environment variables

### Set Environment Variables
export QT_AUTO_SCREEN_SCALE_FACTOR=1
export QT_QPA_PLATFORM=wayland 
export QT_WAYLAND_DIABLE_WINDOWDECORATION=1
export QT_QPA_PLATFORMTHEME=qt6ct
# export LIBVA_DRIVER_NAME=nvidia
export GDK_BACKEND=wayland
export XDG_CURRENT_DESKTOP=Sway
export XDG_SESSION_TYPE=wayland
export XDG_SESSION_DESKTOP=Sway
# export GBM_BACKEND=nvidia-drm
# export __GLX_VENDOR_LIBRARY_NAME nvidia
# export __GL_GSYNC-ALLOWED=0
# export __GLR_VRR_ALLOWED=0
# export __GLX_VENDOR_LIBRARY_NAME=nvidia
export MOZ_ENABLE_WAYLAND=1
export WLR_DRM_NO_ATOMIC=1
# export WLR_NO_HARDWARE_CURSORS=1
# export WLR_RENDERER=vulkan sway --unsupported-gpu

